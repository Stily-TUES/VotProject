datadir="/var/lib/proxysql"

admin_variables=
{
    admin_credentials="admin:admin"
    mysql_ifaces="0.0.0.0:6032"
    refresh_interval=2000
}

mysql_variables=
{
    threads=4
    stacksize=1048576
    server_version="5.5.30"
}

mysql_servers =
(
    { address="mariadb1", port=3306, hostgroup=0, max_connections=100 },
    { address="mariadb2", port=3306, hostgroup=0, max_connections=100 }
)

mysql_users =
(
    { username = "admin", password = "admin", default_hostgroup = 0 },
    { username = "monitor", password = "monitor_password", default_hostgroup = 0 }
)

mysql_query_rules =
(
    { rule_id=1, match_pattern="^SELECT .* FOR UPDATE$", destination_hostgroup=1, apply=1 },
    { rule_id=2, match_pattern="^SELECT", destination_hostgroup=0, apply=1 },
    { rule_id=3, match_pattern="^(UPDATE|INSERT|DELETE|REPLACE|CREATE|DROP|ALTER|TRUNCATE)", destination_hostgroup=0, apply=1 }
)
